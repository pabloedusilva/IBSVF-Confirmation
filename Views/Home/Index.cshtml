@{
    ViewData["Title"] = "Forms";
}

@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="~/css/index.css">
}

<div class="container">
    <header>
        <div class="logo-container">
            <img src="~/img/logo.png" alt="Logo IBSVF" class="logo">
        </div>
        <h1>Family Day</h1>
    </header>

    <div class="event-info">
        <h2>Informações do Evento</h2>
        <div class="event-details">
            <div class="event-detail-item">
                <i class="fas fa-map-marker-alt"></i>
                <h3>Local</h3>
                <p>Sítio Shalom</p>
            </div>
            <div class="event-detail-item">
                <i class="fas fa-clock"></i>
                <h3>Horário</h3>
                <p>Das 07h às 15h</p>
            </div>
            <div class="event-detail-item">
                <i class="fas fa-utensils"></i>
                <h3>Importante</h3>
                <p>Cada família deve levar sua carne e bebida</p>
            </div>
        </div>
    </div>

    <!-- Seta animada -->
    <div class="scroll-arrow">
        <i class="fas fa-chevron-down arrow-down"
            onclick="document.querySelector('.form-container').scrollIntoView({behavior: 'smooth'})"></i>
    </div>

    <div class="form-container" id="mainForm">
        <form id="sitioForm">
            @Html.AntiForgeryToken()
            
            <div class="form-group">
                <label for="name"><span class="required-asterisk">*</span> Nome Completo</label>
                <input type="text" id="name" name="name" required placeholder="Digite seu nome completo">
            </div>

            <div class="form-group">
                <label><span class="required-asterisk">*</span> Você vai comparecer ao sítio?</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="attendance" value="yes">
                        Sim, eu vou
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="attendance" value="no">
                        Não, não vou
                    </label>
                </div>
            </div>

            <div class="companions-section hidden" id="companionsSection">
                <label>Deseja levar acompanhantes?</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="hasCompanions" value="yes">
                        Sim
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="hasCompanions" value="no">
                        Não
                    </label>
                </div>

                <div class="companion-list hidden" id="companionList">
                    <div class="companion-item">
                        <input type="text" name="companionName[]" placeholder="Nome do acompanhante">
                        <button type="button" class="remove-companion" aria-label="Remover acompanhante">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <button type="button" class="add-companion-btn hidden" id="addCompanionBtn">
                    <i class="fas fa-plus"></i> Adicionar Acompanhante
                </button>
            </div>

            <button type="submit" class="submit-btn">Confirmar Presença</button>
        </form>

        <div class="contact-info">
            <p>Para mais informações entre em contato:</p>
            <a href="https://wa.me/5531985079718" class="whatsapp-btn" target="_blank">
                <i class="fab fa-whatsapp"></i> (31) 98507-9718
            </a>
        </div>
    </div>

    <!-- Modal de Confirmação -->
    <div class="modal-overlay hidden" id="confirmationModal">
        <div class="confirmation-modal">
            <div class="confirmation-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Confirmação Recebida!</h2>
            <p>Obrigado por confirmar sua participação no nosso evento.</p>
            <p>Estamos ansiosos para compartilhar momentos abençoados juntos!</p>
            <div>
                <span class="confirmation-warning">
                    <i class="fas fa-utensils"></i>
                    Atenção: <span class="highlight">Cada família deve levar sua carne e bebida</span>
                </span>
            </div>
            <button type="button" class="submit-btn" id="newFormBtnModal">Concluído</button>
        </div>
    </div>

    <!-- Modal de erro minimalista -->
    <div class="modal-overlay hidden" id="errorModal">
        <div class="confirmation-modal" style="max-width:340px;padding:2rem 1.2rem;">
            <div style="margin-bottom:1rem;font-size:2.2rem;color:#dc3545;">
                <i class="fas fa-exclamation-circle"></i>
            </div>
            <h2 style="font-size:1.2rem;color:#333;margin-bottom:0.7rem;font-weight:600;">
                Preencha todos os campos obrigatórios
            </h2>
            <button type="button" class="submit-btn" id="closeErrorModal" style="background:#dc3545;margin-top:0;">OK</button>
        </div>
    </div>

    <!-- Modal de erro de confirmação -->
    <div class="modal-overlay hidden" id="confirmationErrorModal">
        <div class="confirmation-modal" style="max-width:340px;padding:2rem 1.2rem;">
            <div style="margin-bottom:1rem;font-size:2.2rem;color:#dc3545;">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h2 style="font-size:1.2rem;color:#333;margin-bottom:0.7rem;font-weight:600;" id="confirmationErrorTitle">
                Erro ao confirmar participação
            </h2>
            <p style="font-size:0.9rem;color:#666;margin-bottom:1.5rem;" id="confirmationErrorMessage">
                Tente novamente.
            </p>
            <button type="button" class="submit-btn" id="closeConfirmationErrorModal" style="background:#dc3545;margin-top:0;">OK</button>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="~/js/index.js"></script>
}
